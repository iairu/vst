# **Advanced Physics and Psychoacoustic Optimization of the AIV Vocal Chain: A Comprehensive Research Report**

## **Executive Summary**

The digital processing of the human voice represents one of the most complex challenges in audio engineering, requiring a synthesis of linear acoustic theory, non-linear circuit modeling, and psychoacoustic perception. The "AIV Vocal Chain" extension is designed to address this complexity through a serialized architecture of specialized Digital Signal Processing (DSP) modules. This report provides an exhaustive theoretical and mathematical framework for the AIV Vocal Chain, extending beyond barebone implementations to incorporate state-of-the-art physics derived from analog hardware behavior and advanced discrete-time signal processing.

The analysis that follows dissects each stage of the AIV signal flow—Preamplification, Noise Gating, Subtractive Equalization, De-essing, FET Compression, Opto Compression, Additive Equalization, Spatial Effects, and Output Limiting. For each module, we identify the mathematical limitations of standard "textbook" implementations (labeled as "Incorrect Formula") and propose rigorous, physically accurate alternatives ("Correct Formula"). Furthermore, this report establishes the valid parameter ranges for all control knobs, grounded in the operational limits of the hardware being modeled and the psychoacoustic requirements of professional vocal production.

## **1. Foundations of Gain Staging and Signal Purity**

Before examining the individual processing modules, it is essential to establish the physical laws governing signal amplitude and distortion within the AIV Vocal Chain. The integrity of the vocal signal depends heavily on how gain is managed between linear digital operations and non-linear saturation stages.

### **1.1 The Decibel Scale in Voltage vs. Power Domains**

A pervasive error in audio DSP development is the conflation of power (intensity) and amplitude (voltage/pressure) when calculating decibels. In the physical world, the human ear responds logarithmically to acoustic pressure, which correlates to voltage in an electrical signal.

**Incorrect Formula: The Power-Based Logarithm**



$$dB = 10 \cdot \log_{10}\left(\frac{x}{x_{ref}}\right)$$

*Critique:* This formula applies strictly to power quantities, such as Watts. When applied to digital audio samples (which represent amplitude or voltage), this formula yields half the expected decibel value, leading to drastic under-estimation of gain changes and incorrect metering calibration.1

**Correct Formula: The Amplitude-Based Logarithm**



$$dB = 20 \cdot \log_{10}\left(\frac{V}{V_{ref}}\right)$$

*Physics:* Power $P$ is proportional to the square of voltage $V$ ($P \propto V^2$). In the logarithmic domain, the exponent 2 becomes a multiplier: $10 \cdot \log(V^2) = 20 \cdot \log(V)$. This distinction is critical for the AIV Preamp and Output stages to ensure that a "6 dB" boost actually doubles the signal amplitude, rather than quadrupling the power without the requisite voltage swing.2

### **1.2 Harmonic Distortion and Aliasing**

The AIV Vocal Chain aims to introduce "character" via saturation. However, in the discrete-time domain (digital audio), non-linear operations such as saturation expand the signal bandwidth. If the generated harmonics exceed the Nyquist frequency ($f_s / 2$), they fold back into the audible spectrum as non-harmonic aliasing distortion.

**Correct Implementation Strategy:** To preserve the "existing physics" of high-fidelity processing, the AIV Preamp and Saturator modules must employ **Oversampling**. The signal is upsampled (e.g., 4x or 8x), processed through the non-linear function, and then downsampled using a steep linear-phase anti-aliasing filter. This ensures that the extended bandwidth generated by saturation is filtered out before it can fold back, preserving the harmonic integrity of the vocal.3

## **2. Module I: Preamplification and Saturation**

The input stage of the AIV Vocal Chain is the Preamplifier. In analog recording, the preamp is not merely a utility for increasing volume; it is a creative tool that imparts specific harmonic coloration (Total Harmonic Distortion or THD) when driven. This harmonic density increases the perceived loudness and "presence" of the vocal without necessarily increasing the peak level, a phenomenon rooted in the psychoacoustic integration of complex tones.

### **2.1 Physics of Non-Linear Transfer Functions**

To model the "warmth" associated with transformer-based preamps (like the classic 1073 referenced in 4), the AIV Preamp must utilize a continuous, non-linear transfer function. A common mistake in basic research is using hard clipping or simple logical clamps to simulate drive.

**Incorrect Formula: Hard Clipping (Digital Edge)**



$$f(x) = \begin{cases} 1 & x > 1 \\ x & -1 \le x \le 1 \\ -1 & x < -1 \end{cases}$$

*Critique:* This function has a discontinuous derivative at the threshold ($x=1$). In the frequency domain, a discontinuity in the time domain waveform or its derivative results in an infinite series of harmonics effectively decaying at $1/n$. This creates severe, harsh, high-frequency aliasing that sounds "digital" and unpleasant.5

**Correct Formula: Hyperbolic Tangent (Soft Saturation)**

The AIV Preamp utilizes a hyperbolic tangent function, which mirrors the behavior of bipolar transistor differential pairs found in vintage consoles.



$$f(x) = \frac{\tanh(k \cdot x)}{\tanh(k)}$$

Where $k$ is the drive coefficient derived from the Input Gain knob. As $x$ increases, the output compresses smoothly toward the limit, generating predominantly odd-order harmonics (3rd, 5th, 7th) which are associated with the "tape-like" or "transistor" sound.5

**Correct Formula: Asymmetrical Tube Emulation**

To emulate the even-order harmonics (2nd, 4th) associated with triode vacuum tubes, the AIV Preamp can alternatively employ a piecewise polynomial that treats positive and negative excursions differently:



$$f(x) = \begin{cases} \frac{2x}{1+x^2} & x \ge 0 \\ \frac{\tanh(k \cdot x)}{\tanh(k)} & x < 0 \end{cases}$$

This asymmetry shifts the DC bias slightly and introduces the "musical" second harmonic that thickens the vocal fundamental.6

### **2.2 Preamp Control Parameters and Ranges**

The following control knobs are defined for the AIV Preamp module, incorporating the physics of gain staging.

| **Control Knob** | **Valid Range**     | **Default** | **Physics & Implementation Logic**                           |
| ---------------- | ------------------- | ----------- | ------------------------------------------------------------ |
| **Input Gain**   | -$\infty$ to +24 dB | 0 dB        | Controls the drive factor $k$ in the transfer function. Higher values push the signal further into the non-linear region of the curve. |
| **Saturation**   | 0% to 100%          | 0%          | A Wet/Dry blend control. 0% is a linear pass-through; 100% is the fully processed non-linear signal. Allows for parallel saturation. |
| **Phase Invert** | On / Off            | Off         | Multiplies the signal by -1. Essential for correcting polarity issues when multimic recording or aligning with backing tracks. |
| **Output Trim**  | -24 dB to +24 dB    | 0 dB        | A post-saturation linear gain stage. Allows the user to drive the Input Gain for color while attenuating the Output to maintain unity gain staging into the next module. |

## **3. Module II: Advanced Noise Gating**

Following the preamp, the signal enters the Noise Gate. The purpose of the gate is to remove unwanted background noise (headphone bleed, room tone, distant traffic) during periods of silence. However, the human voice is dynamic and often decays into breathy textures that a simple gate can aggressively truncate.

### **3.1 Hysteresis and State Machine Physics**

A standard gate opens and closes at the same threshold. This leads to "chatter"—the rapid opening and closing of the gate when the signal fluctuates around the threshold level—which destroys the natural decay of a vocal phrase. The AIV Gate solves this using **Hysteresis**.

**Incorrect Formula: Simple Comparator Logic**



$$State[n] = (Input[n] > Threshold)? OPEN : CLOSED$$

*Critique:* This memoryless system fails to account for the micro-dynamics of a sustaining vocal note. If the vocal wavers by 0.1 dB across the threshold, the gate will stutter.8

**Correct Formula: Hysteresis with Dual Thresholds**

Hysteresis introduces a "sticky" state. We define two thresholds: the *Open Threshold* ($T_{open}$) set by the user, and the *Close Threshold* ($T_{close}$), which is lower than the open threshold by a Hysteresis factor ($H$).



$$T_{close} = T_{open} - H$$

The logic follows a state machine:

1. If **State is CLOSED**: Switch to **OPEN** only if $Input > T_{open}$.
2. If **State is OPEN**: Switch to **CLOSED** only if $Input < T_{close}$. This ensures that once the vocal punches through the gate, the gate remains open even if the vocal level dips slightly, preserving the natural trail of the phrase.8

### **3.2 Envelope Ballistics and Lookahead**

The detection circuit of the gate must react to the envelope of the signal, not the raw waveform.

**Correct Formula: Decoupled RMS/Peak Detector**

To capture fast transients (plosives) while ignoring short dips, the AIV Gate uses a hybrid envelope follower:



$$y[n] = \alpha \cdot x[n] + (1 - \alpha) \cdot y[n-1]$$The coefficient $\alpha$ varies depending on whether the signal is rising (Attack) or falling (Release).$$\alpha_{att} = 1 - e^{-2.2 T_s / t_{attack}}$$



$$\alpha_{rel} = 1 - e^{-2.2 T_s / t_{release}}$$

Where $T_s$ is the sampling period. The AIV Gate typically employs a lookahead buffer (e.g., 2ms) to allow the gate to open *before* the transient arrives, ensuring the initial "click" or breath of the word is not cut off.11

### **3.3 Noise Gate Control Parameters**



| **Control Knob** | **Valid Range**   | **Default** | **Physics & Implementation Logic**                           |
| ---------------- | ----------------- | ----------- | ------------------------------------------------------------ |
| **Threshold**    | -80 dB to 0 dB    | -40 dB      | $T_{open}$. The level the signal must exceed to open the gate. |
| **Range**        | -80 dB to 0 dB    | -20 dB      | Sets the noise floor reduction. 0 dB = no reduction. -80 dB = silence. A range of -20 dB is preferred for vocals to maintain natural "air" rather than dead silence. |
| **Attack**       | 0.01 ms to 100 ms | 1 ms        | The speed at which the gate opens. Fast attacks (<2ms) are crucial for percussive vocal consonants (k, t, p).9 |
| **Hold**         | 0 ms to 1000 ms   | 150 ms      | A fixed timer that forces the gate to stay open after the signal drops below $T_{close}$. Prevents the gate from closing during short pauses between syllables. |
| **Release**      | 10 ms to 2000 ms  | 300 ms      | The speed at which the signal fades to the Range level. Should be tuned to match the room's reverb decay time. |
| **Hysteresis**   | 0 dB to 12 dB     | 6 dB        | The safety margin between opening and closing thresholds.    |

## **4. Module III: Subtractive Equalization (ZDF)**

The third stage is Subtractive EQ, placed before compression to remove low-frequency rumble and resonant frequencies that would otherwise trigger the compressor unnecessarily. The AIV EQ utilizes **Zero Delay Feedback (ZDF)** topology to model analog filter responses accurately in the digital domain.

### **4.1 The Problem with Standard Biquads**

Most basic digital EQs use the Direct Form I or II topology derived via the Bilinear Transform. While efficient, these filters suffer from "frequency cramping" near the Nyquist frequency, meaning the bell curve shapes become asymmetrical and distorted as the center frequency increases. Furthermore, modulating the parameters of standard biquads can cause instability.

**Incorrect Formula: Direct Form I Biquad (Standard)**



$$y[n] = b_0 x[n] + b_1 x[n-1] + b_2 x[n-2] - a_1 y[n-1] - a_2 y[n-2]$$

*Critique:* This formula relies on past outputs ($y[n-1]$). It introduces a unit delay in the feedback path, which deviates from the instantaneous feedback found in analog circuits. This limits the accuracy of high-frequency filtering.12

**Correct Formula: Topology Preserving Transform (TPT) / ZDF**

The AIV EQ utilizes a trapezoidal integration method that solves the feedback loop instantaneously. For a 1-pole Low Pass Filter (LPF) building block:

$$v[n] = \frac{x[n] - s[n-1]}{1 + g}$$$$y[n] = v[n] \cdot g + s[n-1]$$$$s[n] = v[n] \cdot 2g + s[n-1]$$The coefficient $g$ is pre-warped to map the analog cutoff frequency $\omega_c$ perfectly to the digital domain:



$$g = \tan\left(\pi \frac{f_c}{f_s}\right)$$

By chaining these ZDF building blocks, the AIV EQ can construct High Pass, Low Pass, and Bell filters that perfectly match the amplitude and phase response of analog hardware, even at high frequencies.14

### **4.2 Minimum Phase vs. Linear Phase**

For the AIV Vocal Chain, **Minimum Phase** filters are the standard physics choice. Linear phase filters, while preserving phase relationships, introduce "pre-ringing"—a smearing of transients where the echo occurs *before* the sound. In vocals, pre-ringing on a High Pass Filter can smear the sharp attack of consonants. Minimum phase filters mimics the natural phase shift of analog capacitors and inductors, resulting in a punchier, more natural transient response.4

### **4.3 Subtractive EQ Control Parameters**



| **Control Knob**  | **Valid Range**  | **Default** | **Physics & Implementation Logic**                           |
| ----------------- | ---------------- | ----------- | ------------------------------------------------------------ |
| **HPF Frequency** | 20 Hz to 500 Hz  | 100 Hz      | High Pass Filter cutoff. 12dB/oct or 18dB/oct slope. Removes microphone proximity effect and stand rumble.15 |
| **Low-Mid Freq**  | 150 Hz to 500 Hz | 300 Hz      | Center frequency for the primary "mud" cut.                  |
| **Low-Mid Gain**  | -12 dB to 0 dB   | -3 dB       | Gain reduction. Negative values only for subtractive philosophy. |
| **Low-Mid Q**     | 0.5 to 10.0      | 1.0         | Bandwidth. Higher Q = narrower notch. Used to surgically remove boxiness without thinning the voice. |

## **5. Module IV: Intelligent De-Essing**

De-essing is a specialized dynamic process designed to attenuate sibilance (the harsh "s", "t", "ch" sounds) which typically dominate the 4 kHz to 10 kHz range. The AIV De-Esser improves upon basic compressors by using a frequency-conscious sidechain and **Spectral Centroid** detection.

### **5.1 Sidechain Filtering Physics**

A generic compressor reacts to the energy of the entire signal. However, a vocal can be loud in the fundamental (200 Hz) but quiet in the sibilance (7 kHz), or vice versa.

**Incorrect Formula: Broadband Compressor with EQ Pre-Emphasis**

Using a standard compressor with boosted highs in the sidechain is the "old school" method.

*Critique:* If the compressor ducks the *entire* signal when an "s" occurs, the low-end warmth of the vocal drops out, causing an unnatural pumping or lisping effect.

**Correct Formula: Split-Band Architecture**

The AIV De-Esser splits the signal into two bands using a crossover filter (typically Linkwitz-Riley to sum flat):

1. **Low Band:** Frequencies $< F_{split}$ (Passed through untouched).
2. **High Band:** Frequencies $> F_{split}$ (Sent to the gain reduction cell).
   The gain reduction is applied *only* to the High Band.
   $$Output = LowBand + (HighBand \cdot G_{reduction})$$
   This ensures that the body of the voice remains consistent while only the sibilance is tamed.16

### **5.2 Spectral Centroid Detection**

To distinguish between a loud sung note (which has high frequency harmonics) and pure sibilance (which is noise-based), the AIV De-Esser calculates the **Spectral Centroid** ($C$).

**Correct Formula: Spectral Centroid**



$$C = \frac{\sum_{k=0}^{N-1} f_k \cdot |X[k]|}{\sum_{k=0}^{N-1} |X[k]|}$$

Where $f_k$ is the frequency of bin $k$ and $|X[k]|$ is the magnitude. Sibilant sounds are characterized by a massive, sudden upward shift in the spectral centroid (often jumping from ~500 Hz to >5000 Hz). The AIV De-Esser uses the rate of change of the centroid ($\Delta C / \Delta t$) as a trigger condition, allowing for faster and more transparent reaction than amplitude thresholds alone.18

### **5.3 De-Esser Control Parameters**



| **Control Knob** | **Valid Range** | **Default** | **Physics & Implementation Logic**                           |
| ---------------- | --------------- | ----------- | ------------------------------------------------------------ |
| **Frequency**    | 2 kHz to 12 kHz | 7 kHz       | The crossover frequency for split-band processing or the center frequency for the sidechain filter. |
| **Threshold**    | -60 dB to 0 dB  | -25 dB      | The level of high-frequency energy required to trigger reduction. |
| **Range**        | 0 dB to -24 dB  | -6 dB       | Limits the maximum attenuation. Preventing the de-esser from reducing the "s" to silence (which sounds like a lisp) is crucial. |
| **Lookahead**    | 0 ms to 10 ms   | 2 ms        | A buffer delay that allows the detector to catch the instantaneous rise of the "s".21 |
| **Monitor**      | On / Off        | Off         | Solos the High Band/Sidechain signal, allowing the user to tune the Frequency knob to the exact pitch of the whistle/sibilance.22 |

## **6. Module V: Dynamic Core I - FET Compression (AIV 76)**

The first stage of the main dynamic control is the **FET (Field Effect Transistor)** Compressor. Modeled after the legendary 1176LN, this unit serves as a Peak Limiter. Its physics are defined by an incredibly fast attack time and a specific program-dependent release, making it ideal for catching the sharp transients of a vocal performance.

### **6.1 FET Transfer Function and Fixed Threshold**

Unlike modern VCA compressors where the threshold is a variable voltage reference, the 1176 design utilizes a **Fixed Threshold**. The user drives the signal *into* the threshold using the Input knob.

**Incorrect Formula: Variable Threshold Calculation**



$$Gain = (Input > Threshold_{knob})?...$$

*Critique:* This ignores the gain staging inherent to the 1176 workflow.

**Correct Formula: Fixed Threshold with Input Drive**

The threshold is fixed internally (e.g., at -20 dBFS relative to the internal operating level). The "Input" knob applies linear gain $G_{in}$ before the detector.



$$Detector_{level} = Input_{signal} \cdot G_{in}$$



$$GR = \text{max}(0, Detector_{level} - Threshold_{fixed}) \cdot (1 - \frac{1}{Ratio})$$

This explains why turning up the Input increases compression.

### **6.2 The Physics of the "Knee" and FET Shunting**

The FET acts as a voltage-controlled resistor in the lower leg of a voltage divider. The transition from linear to compressed is not a hard angle but a soft curve determined by the non-linear "pinch-off" characteristics of the transistor.

**Correct Formula: FET Resistance Modeling**

In the linear ohmic region, the drain-source resistance $R_{DS}$ is approximated by:



$$R_{DS} \approx \frac{1}{k(V_{GS} - V_P)}$$

This creates a naturally soft knee that hardens as the ratio increases. The AIV 76 models this specific curvature, ensuring that the onset of compression is smooth yet authoritative.23

### **6.3 "All Buttons In" Mode (British Mode)**

A unique feature of the AIV 76 is the emulation of pressing all ratio buttons (4, 8, 12, 20) simultaneously. This is not merely a summation of ratios; it alters the bias voltage of the circuit.

**Physics of All-Buttons Mode:**

1. **Ratio:** Increases to approximately 12:1 to 20:1.
2. **Attack/Release:** The bias shift causes a "lag" in the attack time on initial transients, followed by a very fast recovery.
3. **Distortion:** The change in bias pushes the FET into a region of higher linearity distortion, generating significant harmonic saturation. The AIV Vocal Chain mathematically models this hysteresis, creating the "explosive" sound characteristic of this setting.25

### **6.4 Attack Time Constants**

It is widely misunderstood what "Attack Time" means in this context.

**Incorrect Definition:** Attack is the time it takes to reach full compression.

**Correct Formula: Time Constant ($\tau$)**

Attack time is strictly defined as the time required for the gain reduction to reach **63.2%** ($1 - 1/e$) of its final value in response to a step input.



$$\tau = \frac{-1}{f_s \cdot \ln(1 - 0.632)}$$

The 1176 is famous for microsecond attack times (20 $\mu$s to 800 $\mu$s), far faster than the 10ms+ of optical compressors.11

### **6.5 FET Compressor Control Parameters**

| **Control Knob** | **Valid Range**         | **Default** | **Physics & Implementation Logic**                           |
| ---------------- | ----------------------- | ----------- | ------------------------------------------------------------ |
| **Input**        | -$\infty$ to 0 dB       | -18 dB      | Drives signal into the fixed threshold. Acts as the "Compression Amount" control. |
| **Output**       | -$\infty$ to 0 dB       | -6 dB       | Post-compression makeup gain.                                |
| **Attack**       | 20 $\mu$s to 800 $\mu$s | 400 $\mu$s  | Extremely fast. Note: AIV uses standard orientation (Left=Slow, Right=Fast) unlike the hardware original which is reversed. |
| **Release**      | 50 ms to 1100 ms        | 100 ms      | Recovery speed. Fast releases on FETs increase perceived loudness but can cause pumping distortion on bass sources. |
| **Ratio**        | 4, 8, 12, 20, All       | 4           | Slope of attenuation. 4:1 is standard for vocals. "All" engages the bias-shift distortion mode. |

## **7. Module VI: Dynamic Core II - Opto Compression (AIV 2A)**

Following the FET peak limiter, the signal passes to the **Opto (Optical)** Compressor. Modeled after the Teletronix LA-2A, this unit provides "leveling"—a slow, transparent compression that smooths out the overall macro-dynamics of the performance.

### **7.1 Physics of the T4B Photo-Cell**

The heart of the Opto sound is the T4B module, which contains an electro-luminescent (EL) panel and a Cadmium Sulfide (CdS) photo-resistor. The physics of the CdS cell are complex and time-variant.

**Incorrect Formula: Simple RC Smoothing**

Standard DSP compressors use a fixed release coefficient:



$$y[n] = x[n] + (1 - e^{-t/\tau})(y[n-1] - x[n])$$

*Critique:* This creates a linear, predictable release that sounds "computery" and unlike an opto cell.

**Correct Formula: The Memory Effect (Multi-Stage Release)**

The T4B cell exhibits a "memory" effect where the release time depends on the duration and intensity of the light exposure.

1. **Stage 1 (Fast):** The initial 50% of the release happens quickly (approx. 60ms).
2. **Stage 2 (Slow):** The remaining release is extremely slow (0.5s to 5s).
   The AIV 2A models this via a coupled system of differential equations where the release coefficient $\tau_{rel}$ is a function of the accumulated gain reduction state:
   $$\tau_{rel}(t) = \tau_{base} + k \int GR(t) dt$$
   This means that if a vocalist holds a long loud note, the compressor will release slowly (transparently). If they sing a short staccato burst, it recovers quickly. This program dependency is the "magic" of the LA-2A.27

### **7.2 Wavelength Dependency (Spectral Weighting)**

The EL panel does not emit light linearly across the frequency spectrum. It is naturally less sensitive to low frequencies. This effectively creates a gentle high-pass filter in the sidechain, meaning the compressor does not "pump" excessively when the vocalist hits low notes. The AIV 2A duplicates this spectral weighting curve in its detector path.

### **7.3 Opto Compressor Control Parameters**

| **Control Knob**   | **Valid Range** | **Default** | **Physics & Implementation Logic**                           |
| ------------------ | --------------- | ----------- | ------------------------------------------------------------ |
| **Peak Reduction** | 0 to 100        | 40          | Controls the gain of the amplifier driving the EL panel. Effectively lowers the threshold and increases compression simultaneously. |
| **Gain**           | 0 to 100        | 40          | Tube output amplifier emulation. Provides makeup gain.       |
| **Compress/Limit** | Switch          | Compress    | Changes the knee and ratio characteristics. "Compress" is roughly 3:1 soft knee; "Limit" is $\infty$:1 hard knee (rarely used for vocals). |

## **8. Module VII: Additive Equalization**

After dynamics processing, the signal is stable enough to be sculpted tonally. The Additive EQ allows for "sweetening" the vocal.

### **8.1 The Physics of "Air"**

The "Air" band (typically >10 kHz) adds sheen and presence. In the analog domain (e.g., Maag EQ4 or Pultec EQP-1A), these high shelves often have a specific resonant shape (Baxandall or Resonant Shelf) rather than a simple digital shelf.

**Correct Formula: Proportional Q**

The AIV Additive EQ utilizes **Proportional Q** designs. As the gain of the bell filter increases, the Q (bandwidth) automatically narrows.



$$Q_{eff} = Q_{base} \cdot \sqrt{Gain_{dB}}$$

This allows for broad, musical boosts at low gain settings (1-2 dB) while becoming more surgical at high gain settings, preventing phase smear across the midrange.29

### **8.2 Additive EQ Control Parameters**

| **Control Knob**  | **Valid Range** | **Default** | **Physics & Implementation Logic**                    |
| ----------------- | --------------- | ----------- | ----------------------------------------------------- |
| **Air Frequency** | 8 kHz to 20 kHz | 12 kHz      | High Shelf filter. Adds "expensive" sheen and breath. |
| **Air Gain**      | 0 dB to +12 dB  | +3 dB       | Boost amount.                                         |
| **Presence Freq** | 1 kHz to 6 kHz  | 3 kHz       | Bell filter. The "intelligibility" range.             |
| **Presence Gain** | 0 dB to +12 dB  | +2 dB       | Boost amount to help vocal cut through dense mixes.   |

## **9. Gain Management: Auto-Makeup Physics**

The AIV Vocal Chain implements an intelligent Auto-Makeup Gain feature to maintain consistent loudness regardless of compression settings.

**Incorrect Formula: Static Approximation**



$$Makeup = Threshold / 2$$

*Critique:* This fails to account for Ratio, Knee width, and signal crest factor.

**Correct Formula: Idealized Transfer Function Compensation**

The makeup gain $M$ is calculated to align the 0 dB input reference to 0 dB output reference.

$$M_{dB} = -(Output_{dB} - Input_{dB})$$For a given Threshold $T$ and Ratio $R$, the attenuation $A$ at 0 dBFS is:$$A = (0 - T) \cdot (1 - \frac{1}{R})$$Therefore, the auto-makeup gain applied is exactly $A$.



$$M_{linear} = 10^{\frac{A}{20}}$$

This ensures that if the user lowers the threshold, the output volume rises automatically to compensate for the reduction in dynamic range.30

## **10. Module VIII: Spatial Acoustics (Reverb & Delay)**

To place the vocal in a virtual space, the AIV chain employs Delay and Reverb.

### **10.1 Delay Interpolation Physics**

Digital delays work by reading from a circular buffer at a past index. If the delay time modulates (e.g., for chorus effects) or syncs to a fractional tempo, the read index will fall *between* samples.

**Incorrect Formula: Nearest Neighbor / Truncation**



$$y[n] = Buffer$$

*Critique:* This causes "zipper noise" and quantization artifacts as the delay time changes.

**Correct Formula: Lagrange or Sinc Interpolation**

AIV uses 4th-order Lagrange Interpolation to estimate the sample value between grid points.



$$y(t) = \sum_{j=0}^{k} y_j L_j(t)$$

This allows for sub-sample accuracy, essential for high-frequency phase coherence in feedback loops and smooth "tape echo" pitch shifting effects.32

### **10.2 Feedback Delay Networks (FDN)**

For Reverb, the AIV chain uses a **Feedback Delay Network (FDN)** rather than simple Schroeder comb filters. An FDN consists of $N$ delay lines connected via a feedback matrix.

**Physics of the Hadamard Matrix**

To ensure the reverb tail decays smoothly without "exploding" or vanishing, the feedback matrix must be **Unitary** (energy preserving). AIV uses an $8 \times 8$ Hadamard Matrix, which provides maximum diffusion (echo density mixing) with efficient computation (only additions/subtractions, no expensive multiplications).



$$\mathbf{H}_n = \begin{bmatrix} H_{n/2} & H_{n/2} \\ H_{n/2} & -H_{n/2} \end{bmatrix}$$

Scaling factors are applied to the delay lines to simulate air absorption (high frequencies decay faster), creating a natural "Hall" or "Plate" sound.34

### **10.3 Spatial Control Parameters**

| **Control Knob** | **Valid Range**  | **Default** | **Physics & Implementation Logic**                           |
| ---------------- | ---------------- | ----------- | ------------------------------------------------------------ |
| **Delay Time**   | 1/64 to 1/1 Note | 1/4         | Synced to host tempo. Uses interpolation for smooth changes. |
| **Feedback**     | 0% to 100%       | 30%         | Signal fed back into delay buffer. >100% causes oscillation. |
| **Reverb Decay** | 0.1 s to 10 s    | 1.5 s       | $RT_{60}$. Time for reverb to drop 60 dB.                    |
| **Pre-Delay**    | 0 ms to 200 ms   | 20 ms       | Delays the onset of reverb. crucial for vocal intelligibility (Haas Effect). |
| **Mix**          | 0% to 100%       | 15%         | Wet/Dry blend.                                               |

## **11. Module IX: Output Stage - True Peak Limiting**

The final safety net is the Look-Ahead Limiter. Its job is to ensure the signal never exceeds the user-defined ceiling, preventing digital clipping.

### **11.1 Look-Ahead Physics**

A limiter cannot stop a transient if it reacts *after* the transient has occurred. The AIV Limiter uses a circular buffer delay line.

**Mechanism:**

1. **Audio Path:** Delayed by $D$ samples (e.g., 2ms).
2. **Sidechain Path:** Not delayed. Detects peaks $D$ samples into the future.
3. **Gain Calculation:** The gain reduction ramp is calculated based on the "future" peak.
4. **Application:** The gain reduction is applied to the audio path. Because the reduction curve starts *before* the transient arrives (due to the delay), the transient is attenuated perfectly with zero overshoot and no audible "click" of a hard clip.36

### **11.2 Inter-Sample Peak (True Peak) Detection**

Standard digital metering looks at sample values. However, when digital audio is converted back to analog (DAC), the reconstruction filter can create waveform peaks *between* samples that exceed 0 dBFS, causing distortion in consumer speakers.

**Correct Formula: Sinc Interpolation / Oversampling**

The AIV Limiter upsamples the sidechain signal (typically 4x) to approximate the continuous analog waveform. It detects these True Peaks and limits based on them, ensuring the final analog output is clean.



$$Peak_{True} \approx \text{max}(|Upsample(x)|)$$

This guarantees compliance with modern streaming loudness standards (e.g., Spotify, Apple Music).3

### **11.3 Output Control Parameters**

| **Control Knob** | **Valid Range**  | **Default** | **Physics & Implementation Logic**                           |
| ---------------- | ---------------- | ----------- | ------------------------------------------------------------ |
| **Ceiling**      | -1.0 dB to 0 dB  | -0.1 dB     | The absolute maximum peak level.                             |
| **Lookahead**    | 0.1 ms to 5.0 ms | 2.0 ms      | The buffer size. Longer lookahead allows for smoother gain transitions but increases latency. |
| **Release**      | 10 ms to 1000 ms | 100 ms      | Recovery time.                                               |

## **12. Conclusion**

The "AIV Vocal Chain" extension represents a convergence of vintage analog character and modern digital precision. By replacing "outdated barebone" formulas with rigorous physical models—specifically in the domains of **Zero Delay Feedback filters**, **Hysteresis-enabled gating**, **Spectral Centroid De-essing**, and **Component-Modeled Compression**—the chain achieves a level of transparency and musicality unavailable to standard linear algorithms. The distinction between "Incorrect" textbook approximations and "Correct" higher-order physics is the defining factor that preserves the integrity of the human voice while meeting the rigorous demands of professional audio production.

#### **Citované práce**

1. Decibel conversion: Factor 10 or Factor 20? - DSPIllustrations.com, otvorené februára 5, 2026, https://dspillustrations.com/pages/posts/misc/decibel-conversion-factor-10-or-factor-20.html
2. To convert Volts in dB SPL confusion - Electrical Engineering Stack Exchange, otvorené februára 5, 2026, https://electronics.stackexchange.com/questions/375869/to-convert-volts-in-db-spl-confusion
3. [Free Dsp] Lookahead Limiter (true peak) - HISE Forum, otvorené februára 5, 2026, https://forum.hise.audio/topic/12229/free-dsp-lookahead-limiter-true-peak/12
4. Proper order of plug-ins on a vocal chain/vocal track? : r/audioengineering - Reddit, otvorené februára 5, 2026, https://www.reddit.com/r/audioengineering/comments/v5es8u/proper_order_of_plugins_on_a_vocal_chainvocal/
5. The tanh() function - gDSP - Online Course | Distortion, otvorené februára 5, 2026, http://gdsp.hf.ntnu.no/lessons/3/17/
6. Saturation non-linearities for Virtual Analog filters, otvorené februára 5, 2026, https://mural.maynoothuniversity.ie/id/eprint/4099/1/EAApaper-JT-30-03.pdf
7. DSP function used by musical distortion plugins - Signal Processing Stack Exchange, otvorené februára 5, 2026, https://dsp.stackexchange.com/questions/87879/dsp-function-used-by-musical-distortion-plugins
8. How does hysteresis work on the reagate ? : r/Reaper - Reddit, otvorené februára 5, 2026, https://www.reddit.com/r/Reaper/comments/gm5y99/how_does_hysteresis_work_on_the_reagate/
9. Advanced Gating Techniques: Part 1, otvorené februára 5, 2026, https://www.soundonsound.com/techniques/advanced-gating-techniques-part-1
10. Hysteresis - DSP Concepts Documentation, otvorené februára 5, 2026, https://documentation.dspconcepts.com/awe-designer/8.D.2.2/hysteresis
11. How does the attack time work on a compressor? : r/audioengineering - Reddit, otvorené februára 5, 2026, https://www.reddit.com/r/audioengineering/comments/om8164/how_does_the_attack_time_work_on_a_compressor/
12. DSP Robotics Support • View topic - Zero Delay Feedback Filter, otvorené februára 5, 2026, http://dsprobotics.com/support/viewtopic.php?p=10914&sid=c1d99450901766b7851ce9a7b97b4911
13. You are probably already using Zero Delay Feedback filters, so let your customers know! - Page 6 - DSP and Plugin Development Forum - KVR Audio, otvorené februára 5, 2026, https://www.kvraudio.com/forum/viewtopic.php?t=396440&start=75
14. A (hopefully) practical approach to zero-delay-feedback filters - DSP ..., otvorené februára 5, 2026, https://www.kvraudio.com/forum/viewtopic.php?t=368466
15. The Perfect Vocal Chain Order - Music Guy Mixing, otvorené februára 5, 2026, https://www.musicguymixing.com/vocal-chain/
16. How To Use De-Essers For Vocal Production/Mixing, otvorené februára 5, 2026, https://foxmusicproduction.com/de-essers-for-vocal-production/
17. De-Ess - Randy Coppinger, otvorené februára 5, 2026, https://randycoppinger.com/2013/07/16/de-ess/
18. Spectral Descriptors - MATLAB & Simulink, otvorené februára 5, 2026, https://www.mathworks.com/help/audio/ug/spectral-descriptors.html
19. Spectral centroid - Wikipedia, otvorené februára 5, 2026, https://en.wikipedia.org/wiki/Spectral_centroid
20. Sibilance detection and mitigation. Патент № US 0010867620 МПК G10L15/02, otvorené februára 5, 2026, https://i.moscow/patents/US0010867620B2_20201215
21. Anyone got tips for setting up de-esser : r/audioengineering - Reddit, otvorené februára 5, 2026, https://www.reddit.com/r/audioengineering/comments/1o9bwxp/anyone_got_tips_for_setting_up_deesser/
22. How to Use a De-Esser: 4 Simple Steps to a Pro Vocal Mix - Mastering.com, otvorené februára 5, 2026, https://mastering.com/de-essing-vocals/
23. Building DIY 1176 Compressor, otvorené februára 5, 2026, https://www.masonaudio.org/
24. AXT Systems 1176 FET Matching, otvorené februára 5, 2026, https://axtsystems.com/axtsystems/proj_1176_fetmatching.php
25. 1176 Classic FET Compressor Manual - Universal Audio Support, otvorené februára 5, 2026, https://help.uaudio.com/hc/en-us/articles/34530260482324-1176-Classic-FET-Compressor-Manual
26. All Buttons In: An investigation into the use of the 1176 FET compressor in popular music production, otvorené februára 5, 2026, https://www.arpjournal.com/asarpwp/all-buttons-in-an-investigation-into-the-use-of-the-1176-fet-compressor-in-popular-music-production/
27. Klark Teknik kt-2a w/ kenetek t4b opto cell : r/audioengineering - Reddit, otvorené februára 5, 2026, https://www.reddit.com/r/audioengineering/comments/17xvpz3/klark_teknik_kt2a_w_kenetek_t4b_opto_cell/
28. Kenetek T4B Modules, otvorené februára 5, 2026, http://www.kenetek.com/T4AT4BUnits/KenetekT4BModules/tabid/300/Default.aspx
29. KVR Forum: What are some central ways in which DSP plug-ins are made to sound different, even if the basic algorithm is common?, otvorené februára 5, 2026, https://www.kvraudio.com/forum/viewtopic.php?t=608240
30. [music-dsp] computing compressor automatic makeup gain (?), otvorené februára 5, 2026, https://music-dsp.music.columbia.narkive.com/3BVi9E9D/computing-compressor-automatic-makeup-gain
31. Dynamic range compressor - MATLAB - MathWorks, otvorené februára 5, 2026, https://www.mathworks.com/help/audio/ref/compressor-system-object.html
32. Delay-Line Interpolation | Physical Audio Signal Processing - DSPRelated.com, otvorené februára 5, 2026, https://www.dsprelated.com/freebooks/pasp/Delay_Line_Interpolation.html
33. Design Fractional Delay FIR Filters - MATLAB & Simulink - MathWorks, otvorené februára 5, 2026, https://www.mathworks.com/help/dsp/ug/design-of-fractional-delay-fir-filters.html
34. Automatic Optimization of Feedback Delay Networks – SegfaultDSP, otvorené februára 5, 2026, https://segfaultdsp.com/posts/reverb_fdn/
35. FDN Reverberation | Physical Audio Signal Processing - DSPRelated.com, otvorené februára 5, 2026, https://www.dsprelated.com/freebooks/pasp/FDN_Reverberation.html
36. Lookahead limiting in Pure Data | Dario Sanfilippo, otvorené februára 5, 2026, https://www.dariosanfilippo.com/2017/07/02/lookahead-limiting-in-pure-data.html